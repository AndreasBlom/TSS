@{
    Layout = "~/Views/Shared/_ReportLayout.cshtml";
    view_Module helpModule;
}
@using TietoCRM.Models;



@foreach (KeyValuePair<String, List<dynamic>> system in ViewBag.ArticleSystemDictionary)
{
    <div class="crm-print-block">
        <h1>@system.Key</h1>
        @for (int i = 0; i < system.Value.Count; i++)
        {
            var article = system.Value[i];
                    <h2>@article.Article_number @article.Module</h2>

                        <table class="table table-striped table-bordered">
                            @{
                                List<TietoCRM.FeatureService.Features> features = view_ModuleFeature.getAllFeatures(int.Parse(article.Article_number.ToString()));
                                if (features.Count > 0)
                                {
                                    <tr>
                                        <th style="width: 10%">Feature ID</th>
                                        <th style="width: 30%">Name</th>
                                        <th style="width: 30%">Information</th>
                                        <th style="width: 30%">Warnings</th>
                                    </tr>
                                    foreach (TietoCRM.FeatureService.Features feature in features)
                                    {
                                        <tr class="">
                                            <td>@feature.Id</td>
                                            <td>@feature.Text</td>
                                            <td>@feature.Information</td>
                                            <td>@String.Join(" ", feature.Warnings)</td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr class="">
                                        No feature mapping exists for this article.
                                    </tr>
                                }

                            }
                        </table>
        }
    </div>
}